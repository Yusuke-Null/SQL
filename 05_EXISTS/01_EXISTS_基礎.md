# EXISTS_基礎
複数行を一単位とみなした高度な条件の記述や相関サブクエリを利用してもパフォーマンスが良い述語であり  
量化という述語論理の協力な機能を実現する 

## 理論編
予約語の述語カテゴリー(<>の比較述語やBETWEEN,LIKE,IS NULL ext...)がある  
SQLでいう述語とは関数である。ただ、SUMやAVGといった関数とは異なる  
**述語とは戻り値が真理値になる特別な関数を指す**  
EX)「xは男だ」という述語に「太郎」と入力すれば「太郎は男だ」の命題への真偽が決定される  
-> 命題の構造を調べるために述語論理が必要  
命題の分析に関数的アプローチがあるRDBではテーブルの行を1つの命題としてみなす  
| name | sex | age |
| :--: | :--: | :--: |
| 田中 | 男 | 28 |

上記のレコードは「田中は男であり、かつ28歳」という命題を表現していると言える  
テーブルは行の集合でもあり、述語論理的には命題の集合ともいえる  
例えば、WHERE句も述語の組み合わせで1つの述語を作っているとみなせる  
-> WHEREの戻り値がtrueの命題(行)のみがテーブルから選択される  
よって「集合」と「述語」はほとんど同じと考えられる  
### 存在の階層
BETWEENMや=などとEXISTSは述語の引数に何を取るのかという点が異なる  
=であれば単一の値(スカラ値)をとるがEXISTSはSELECT文そのものを引数に取る  
つまり、行の集合である。その証拠にEXISTSはサブクエリの列の選択を気にしない  
下記のどれを選択してもEXISTSの結果は変わらない
- ワイルドカード: SELECT *
- 定数: SELECT const_value
- 列名: SELECT: col_name

### 全称量化と存在量化
述語論理には量子化という特別な述語が存在するが  
SQLには全称量子化の機能はなく、EXISTSの存在量子化しかない
- 全称量子化: すべてのxが条件Pを満たす
- 存在量子化: 条件Pを満たすxが(少なくとも1つ)存在する  
よってSQLで全称量子化を表現するには下記の変換が必要となる
「すべての行が条件Pを満たす」->「条件Pを満たさない行が存在しない」
