# 練習問題
02_集合の相当性チェックで、UNIONだけを使う以下のクエリを使用した  
ただ、事前に行数を調べる必要があった  
Q. 事前に行数を調べることなく相当性チェックを行うように修正する
``` sql
SELECT COUNT(*) AS cnt FROM
(
	SELECT * FROM Chapter9Tbl_A
	UNION
	SELECT * FROM Chapter9Tbl_B
) AS tmp
```
2つのテーブルをUNIONした結果の行数が元の各テーブルと等しいかまでをクエリに組み込む  
-> 集約結果に対する条件設定が必要  
解答は以下だが、かなり強引できれいなやり方ではない
``` sql
SELECT
	CASE
		WHEN
			COUNT(*) = (SELECT COUNT(*) FROM Chapter9Tbl_A)
			AND
			COUNT(*) = (SELECT COUNT(*) FROM Chapter9Tbl_B)
		THEN '等しい'
		ELSE '異なる'
	END AS result
FROM
	(SELECT * FROM Chapter9Tbl_A
	 UNION
	 SELECT * FROM Chapter9Tbl_B) as tmp

-- result
result
等しい
```
