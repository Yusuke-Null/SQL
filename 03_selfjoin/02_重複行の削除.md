# 重複行の削除
重複行はNULLと並んで良くない設計  
下記のようなテーブルでみかんを重複削除したい  
| name | price |
| :---: | :---: |
| りんご	 | 50 |
| みかん	 | 100 |
| バナナ	 | 80 |
| みかん	 | 100 |
| みかん	 | 100 |
OralceではレコードIDというどんなテーブルでも使える主キーである疑似列の機能がある  
-> SQL Serverにはない
``` sql
-- oracle
DELETE FROM Chapter3Products p1
WHERE rowid < (SELECT MAX(P2.rowid)
				 FROM
					Chapter3Products p2
				 WHERE
					p1.name = p2.name
				 AND
					p1.price = p2.price)
```
部分的不一致の検索
``` sql
SELECT
	DISTINCT a1.name
	,a1.address
FROM
	Chapter3Addresses a1
INNER JOIN
	Chapter3Addresses a2
ON
	a1.family_id = a2.family_id
AND
	a1.address <> a2.address

-- result
name	address
前田義明	東京都港区虎ノ門 3-2-29
前田由美	東京都港区虎ノ門 3-2-92
```
