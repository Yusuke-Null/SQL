# テーブル設計
アプリケーション保守やマイグレーション(移行)といった既存資産の存在を前提としたプロジェクトも増えている  
そのため、読みやすく保守しやすいコードの重要性が高まっている

### 名前と意味
RDBは概念も物も指示しないアドレスを追放して、名前を取り入れて世界に広がった  
→ 性別フラグは男や女のような集合を、疾病コードは風邪や虫歯のような概念を指示する一般名  
列、テーブル、インデックス、制約は名が体を表す具体的な名前を付けること  
特にインデックスと制約は明示的に名前を与えないとDBMSが自動的にランダムな識別子を付与してしまう  
名前を付ける際に使用可能な文字は以下である
- アルファベット
- 数字
- アンダースコア
上記は標準SQLで許されている文字集合であり、拡張機能で他の文字が使えても避けたほうが良い
-> マイグレーションにおける移植性が低下したり、バグの原因となるため
他にも次のようなことを守るとよい
- 先頭が文字で始まることを要請している
- SQLの予約語を名前として扱わない
日本に閉じたプロジェクトの場合はローマ字表記にしたりして可動性を上げてもよい
ex) 医療関係のシステムでは業過用語の英単語ばかり

### 属性と列
1つの列に複数の意味を持たせたテーブル設計はしない  
例えば、年度ごとに様式の変わる帳票などの値を保存するテーブルにおいて、様式が切り替わるタイミングに応じて  
1つの列に格納される値の意味が変わるケースなど  
EX) 年収を意味していた列が途中から納税額に変わったり、都道府県コードや顧客コードといった雑多なコード集合を1つの列で管理する etc...  
こうした設計は、位置によるデータ呼び出しの考え方に基づくものであり、RDBでは御法度  
**DBの列とはある実態の属性、すなわちかなりの程度永続的な存在とみなされる**  
複数の意味を持つ列をつかった設計はコーディングを難しくするに加え、適切な名前すら付けることが困難になる  
